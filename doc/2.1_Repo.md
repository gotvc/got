# Repositories

A Repository (Repo for short) is the top level object in Got.

A Repo requires the following resources
- Access to a directory in the local filesystem
- Access to a Volume in the [Blobcache](https://blobcache.io) service

Repo's manage storage for all the data in Got.
Repo configuration is stored in the filesystem directory.
Cryptographic private keys are also stored in the filesystem.
[Blobcache](https://blobcache.io) (a local storage service) is used to hold all the file content.
Got can be configured to use the system's Blobcache, or it can self-host a Blobcache instance in-process.

A Got directory is considered a Repo if it contains a subdirectory `.got` and the regular file `.got/config` exists and contains a valid Got configuration.

The Got command line tool assumes that the process's current directory is a Repo or [Working Copy](./2.2_Working_Copy.md).

## Volumes
The Blobcache service organizes storage into Volumes.
Each Got Repo has a Volume where the contents are stored in plaintext.
This volume, called the "repo volume" primarily stores access tokens for other Volumes in Blobcache.
When a Blobcache Volume contains an access token for another Volume.
Those Volumes are considered linked, and the Volume being referenced by the access token is the subvolume, or child volume.
The Volume holding the access token is called the parent Volume.

Got repos manage access to many subvolumes.
There is a subvolume for the local Space.
There is a subvolume per Stage; you can read about Stages in the next section.

### Anatomy of a Volume
A Blobcache Volume has 3 distinct parts.
A Cell which hold a small amount of binary data.
A Store, which holds an arbitrarily large amount of content-addressed blobs.
A LinkSet, which contains Links to other Volumes that the Volume can grant access to.
To learn more, take a look at the [Blobcache](https://blobcache.io) docs.

## Stages
A Repo manages a set of staging areas (Stages), which are used to stage changes to filesystems in Got.
Each stage has its own Volume.
Inside the Volume is a data structure, which is manipulated by a [Working Copy](./2.2_Working_Copy.md).
